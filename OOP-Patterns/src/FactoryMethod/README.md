# Фабричный метод (Factory Method)
[Статья](https://refactoring.guru/ru/design-patterns/factory-method) на рефакторинг гуру

## Определение паттерна
**Фабричный метод (Factory Method)** — это порождающий паттерн проектирования, который определяет общий интерфейс для создания объектов в суперклассе, позволяя подклассам изменять тип создаваемых объектов.

## Проблема
Имеется программа, жёстко привязанная к классам `A implements Interface I`.  
Необходимо добавить поддержку классов `B implements Interface I`.

## Решение
Чтобы не переделывать всю программу под определенные классы (классы `A`, `B` и возможно еще какие-то в будущем), 
вынесем создание объектов в отдельный класс.
> Паттерн Фабричный метод предлагает создавать объекты не напрямую, используя оператор new, а через вызов особого фабричного метода.

## Применимость
+ **Когда заранее неизвестны типы и зависимости объектов, с которыми должен работать ваш код**  
  Фабричный метод отделяет код производства продуктов от остального кода, который эти продукты использует.  
  Благодаря этому, код производства можно расширять, не трогая основной. Так, чтобы добавить поддержку нового продукта, вам нужно создать новый подкласс и определить в нём фабричный метод, возвращая оттуда экземпляр нового продукта.
+ **Когда вы хотите дать возможность пользователям расширять части вашего фреймворка или библиотеки.**  
+ **Когда вы хотите экономить системные ресурсы, повторно используя уже созданные объекты, вместо порождения новых.**  
  Такая проблема обычно возникает при работе с тяжёлыми ресурсоёмкими объектами, такими, как подключение к базе данных, файловой системе и т. д.
  + Сначала вам следует создать общее хранилище, чтобы хранить в нём все создаваемые объекты.
  + При запросе нового объекта нужно будет заглянуть в хранилище и проверить, есть ли там неиспользуемый объект.
  + А затем вернуть его клиентскому коду.
  + Но если свободных объектов нет — создать новый, не забыв добавить его в хранилище.
